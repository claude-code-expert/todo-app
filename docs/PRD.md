# Tika - Product Requirements Document (PRD)

> **Tika** = **Ti**cket-based **Ka**nban Board TODO App
> 버전: 1.0 (MVP)
> 최종 수정일: 2026-02-01

---

## 1. 제품 개요

Tika는 개인 할 일 관리를 위한 티켓 기반 칸반 보드 웹 애플리케이션이다.
사용자는 할 일을 티켓(카드) 형태로 생성하고, 칸반 보드 위에서 드래그앤드롭으로 상태를 이동시키며 업무 흐름을 시각적으로 관리한다.

### 핵심 가치

- **시각적 업무 관리**: 칸반 보드를 통해 할 일의 상태를 한눈에 파악
- **직관적 조작**: 드래그앤드롭으로 빠르게 상태 전환
- **개인 생산성**: 나에게 할당된 할 일을 효율적으로 추적

---

## 2. 범위 정의

### 2.1 1차 MVP 범위 (이번 구현)

| 포함 | 제외 (2차 이후) |
|------|----------------|
| 단일 사용자 (인증 없음) | Google OAuth 로그인 |
| 고정 4개 Swimlane 칼럼 칸반 보드 | 어드민 기능에서 Swimlane 에 대한 칼럼 추가/삭제 |
| 티켓 CRUD | 멀티 사용자 / 팀 기능 |
| 드래그앤드롭 상태 이동 | 라벨, 코멘트, 첨부파일 |
| 우선순위 설정 | 알림 / 리마인더 |
| 시작예정일 / 종료예정일 지정 | 검색 / 필터링 고급 기능 |
| 반응형 (데스크톱 + 모바일) | 다크 모드 |
| Vercel 배포 | Docker / AWS 배포 |

### 2.2 칸반 보드 칼럼 구조 (고정)

```
┌───────────────┬──────────────────────────────────────────────┐
│               │                메인 보드 (우측)                │
│  Backlog      │  ┌──────────┐ ┌──────────┐ ┌──────────┐     │
│  (좌측        │  │   TODO   │ │In Progress│ │   Done   │     │
│   사이드바)    │  │          │ │          │ │          │     │
│               │  │ 오늘/이번주│ │ 지금 하는 중│ │ 완료된 작업│     │
│  아직 일정이   │  │ 할 일 목록│ │          │ │          │     │
│  잡히지 않은   │  └──────────┘ └──────────┘ └──────────┘     │
│  할 일 대기    │                                              │
└───────────────┴──────────────────────────────────────────────┘
```

- **Layout**: @/reference/image/트렐로.png, @/reference/image/tika-wireframe.png 참고
- **Backlog** (좌측 사이드바): 등록만 된 상태. 아직 일정이 잡히지 않은 할 일. "내 할 일 저장소" 역할
- **TODO**: 할 일로 확정된 상태. 오늘 또는 이번 주 내 처리 예정
- **In Progress**: 현재 진행 중인 작업
- **Done**: 완료된 작업

### 2.3 화면 영역 구성 (와이어프레임)

화면은 크게 세 영역으로 구성된다.

- **상단 영역**: 검색창과 "새 업무" 버튼.
- **좌측 사이드바 — Backlog**: 아직 일정이 잡히지 않은 할 일 카드가 쌓이는 영역. 각 카드에 제목, 설명, 우선순위 뱃지, 종료예정일 표시
- **우측 메인 보드 — TODO / In Progress / Done**: 세 개의 칼럼이 나란히 배치. Backlog에서 카드를 드래그해 TODO로 옮기면 "이번 주 할 일", In Progress로 옮기면 "진행 중", Done으로 옮기면 "완료"
- **우측 메인 상단 영역 - 필터링 버튼 섹션 :  "이번주 업무"와 "일정이 초과된 업무" 필터 버튼 배치

---

## 3. 사용자 시나리오

### 시나리오 1: 새 할 일 등록

1. 사용자가 보드 상단의 "새 티켓" 버튼을 클릭한다
2. 제목(필수), 설명(선택), 우선순위(선택), 시작예정일(선택) 종료예정일(선택)을 입력한다
3. "생성" 버튼을 누르면 Backlog 칼럼에 카드 형태의 UI로 티켓이 추가된다

### 시나리오 2: 할 일 상태 이동

1. 사용자가 Backlog에 있는 카드를 드래그한다
2. TODO 칼럼에 드롭하면 상태가 TODO로 변경된다. TODO일 때 시작일에 이동한 날짜가 자동으로 입력되어 DB에 저장된다. 시작 예정일은 사용자가 입력한 필드이고, 시작일은 시스템에서 할일 상태 이동이 TODO일때 now() 로 저장된다.
3. 같은 방식으로 TODO → In Progress → Done으로 이동 가능
4. 역방향 이동(Done → In Progress 등)도 가능
5. Done으로 이동시 종료일 필드가 now()로 저장된다.
6. Done 상태일 때 종료일 필드 기준으로 24시간 안에 있는 티켓들만 보여준다. (나머지는 추후 삭제)

### 시나리오 3: 티켓 상세 보기/수정

1. 카드를 클릭하면 상세 모달이 열린다
2. 제목, 설명, 우선순위, 시작예정일, 종료예정일을 수정할 수 있다. 시작일과 종료일은 시스템에서 TODO, Done의 상태 이동에 따라 수정되므로 사용자가 수정할 수 없다. 
3. 삭제 버튼으로 티켓을 삭제할 수 있다.

### 시나리오 4: 완료 현황 파악

1. 사용자가 보드를 열면 4개 칼럼에 카드가 분류되어 있다
2. 각 칼럼 상단에 카드 수가 표시된다
3. 종료예정일이 지난 미완료 카드는 시각적으로 구분된다(오버듀 표시)

### 시나리오 5: 상태 필터링

1. 우측 컨텐츠 영역 상단에 이번주 업무, 일정이 초과된 업무 버튼이 있고 해당 버튼을 누르면 이번주 해야 할 (하고 있는) 업무만 필터링 된다. 초과된 업무도 마찬가지로 필터링 된다. 
---

## 4. 핵심 기능 목록

### FR-001: 티켓 생성
- 제목 (필수, 1~200자)
- 설명 (선택, 최대 1000자)
- 우선순위 (Low / Medium / High, 기본값: Medium)
- 시작예정일, 종료예정일 (선택, 한국 날짜 표기, timezone = 'Asia/Seoul')
- 생성 시 기본 상태: Backlog
- 생성 시 칼럼 내 순서: 맨 위(최신 순)

### FR-002: 보드 조회 (티켓 목록 조회)
- 칸반 보드 형태로 칼럼별 카드 목록 조회
- 카드에 표시할 정보: 제목, 우선순위 뱃지, 종료예정일, 오버듀 표시
- 각 칼럼 상단에 카드 수 표시

### FR-003: 티켓 상세 조회
- 카드 클릭 시 상세 정보 모달 표시
- 모달에 제목, 설명, 우선순위, 시작예정일, 종료예정일, 시작일, 종료일, 상태, 생성일 표시

### FR-004: 티켓 수정
- 제목, 설명, 우선순위, 시작예정일, 종료예정일 수정 가능
- 상세 모달 내에서 인라인 편집

### FR-005: 티켓 완료 (완료일 업데이트)
- Done 칼럼으로 이동 시 종료일(completedAt) 자동 설정
- Done에서 다른 칼럼으로 이동 시 종료일 초기화
- Done 칼럼에는 종료일 기준 24시간 이내 티켓만 표시

### FR-006: 티켓 삭제
- 상세 모달에서 삭제 버튼으로 삭제
- 삭제 전 확인 다이얼로그 표시

### FR-007: 드래그앤드롭 상태/순서 변경
- 칼럼 간 카드 드래그앤드롭으로 상태 변경
- 같은 칼럼 내 카드 순서 변경(드래그앤드롭)
- 이동 시 서버에 상태 및 순서 동기화
- TODO 이동 시 시작일(startedAt) 자동 설정

### FR-008: 오버듀 판정
- 종료예정일이 지났으나 Done이 아닌 카드에 시각적 경고 표시

---

## 5. 비기능 요구사항

| ID | 항목 | 기준 |
|----|------|------|
| NFR-001 | API 응답 시간 | 300ms 이하 |
| NFR-002 | 반응형 디자인 | 모바일(360px) ~ 데스크톱(1920px) |
| NFR-003 | 브라우저 지원 | Chrome, Safari, Firefox 최신 2개 버전 |
| NFR-004 | 접근성 | 키보드 네비게이션 기본 지원 |
| NFR-005 | 데이터 무결성 | 드래그앤드롭 시 낙관적 업데이트 + 실패 시 롤백 |
| NFR-006 | 배포 | Vercel (프론트 + API) + Vercel Postgres |

---

## 6. 기술 스택

| 영역 | 기술 | 선정 이유 |
|------|------|----------|
| 프레임워크 | Next.js 15 (App Router) | Vercel 네이티브 통합, 별도 서버 없이 API 구현, 프론트와 동일 프로젝트에서 관리 |
| 프론트엔드 | React 19 + TypeScript | 타입 안전성으로 AI 생성 코드의 오류를 컴파일 시점에 잡을 수 있음 |
| 스타일링 | Tailwind CSS 4 | 유틸리티 클래스 기반으로 AI가 일관된 스타일 코드를 생성하기 쉬움 |
| 드래그앤드롭 | @dnd-kit/core | React 19 호환, 접근성 지원, 경량 |
| ORM | Drizzle ORM | Vercel Postgres 공식 지원, 서버리스 최적화, 코드 생성 단계 불필요 |
| DB | Vercel Postgres (Neon) | Vercel 네이티브 통합, 서버리스 환경 최적화, 무료 티어 제공 |
| 검증 | Zod | 프론트엔드와 백엔드에서 동일한 검증 스키마 공유 가능 |
| 테스트 | Jest + React Testing Library | TDD에 적합한 테스트 러너와 사용자 관점의 컴포넌트 테스트 |
| 배포 | Vercel | Next.js 최적 배포 환경, Git push로 자동 배포, DB까지 통합 관리 |

### ORM 선정 근거: Drizzle vs Prisma

이 프로젝트에서 Prisma 대신 Drizzle을 선택한 이유:

1. **서버리스 최적화**: Prisma는 서버리스 환경에서 cold start 문제가 있음. Drizzle은 경량이라 cold start가 거의 없음
2. **Vercel 공식 지원**: Vercel이 Drizzle + Postgres 공식 스타터 템플릿을 제공
3. **코드 생성 불필요**: Prisma는 `prisma generate` 단계가 필요하지만 Drizzle은 TypeScript로 직접 스키마 정의
4. **SQL 학습 효과**: SQL과 유사한 API로 실제 SQL을 이해하는 데 도움
5. **번들 크기**: Drizzle이 Prisma 대비 훨씬 가벼움 (서버리스 함수 크기 제한 고려)

---

## 7. 2차 확장 계획 (참고)

- Google OAuth 인증 도입
- 어드민 패널: 칼럼 추가/삭제/순서변경
- 멀티 사용자: 팀 보드, 멤버 할당
- 라벨/태그 시스템
- 코멘트 기능
- 검색 및 고급 필터
- 다크 모드
